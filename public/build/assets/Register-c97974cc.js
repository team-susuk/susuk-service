import{d as K,r as m,T,j as v,c as p,a as s,u as a,b as t,w as C,k as _,l as c,F as y,m as L,t as w,e as k,S as $,f as x,o as i,Z as D,n as R,v as A,i as F,g as O,O as j,h as E}from"./app-72f29b8e.js";import{B as M,L as W}from"./Outline-b5c9b495.js";import{I as z}from"./InputNumber-e64bfa95.js";import{_ as J}from"./DatePicker.vue_vue_type_script_setup_true_lang-09ac308e.js";import{I as P}from"./Index-8d60b717.js";import{_ as Z}from"./DropZoneImage.vue_vue_type_script_setup_true_lang-2fbe8ea6.js";import{_ as U}from"./Password.vue_vue_type_script_setup_true_lang-9ada080c.js";import{_ as h}from"./Single.vue_vue_type_script_setup_true_lang-36d31dbf.js";import{_ as q}from"./MultipleLanguage.vue_vue_type_script_setup_true_lang-65f5aaaa.js";import"./flatpickr.min-e561b34c.js";const G={class:"","x-data":"{popup: false}"},H={class:"flex items-center justify-between"},Q=t("h1",{class:"text-dark text-2xl font-bold text-center max-w-xs mx-auto mt-14"}," Daftarkan akun kamu sekarang âœ¨ ",-1),X=t("p",{class:"text-dark text-sm font-medium mt-3 text-center"}," Jadilah orang pertama yang mengetahui promo menarik ",-1),Y=["onSubmit"],ee={class:"grid grid-cols-2 gap-x-4 mb-2"},ae={class:"mb-2"},oe=t("label",{class:"text-[12px] text-dark mb-1 block"}," Profesi ",-1),re={class:"grid grid-cols-1 md:grid-cols-3 gap-x-3"},te=["for"],se=["id","value","onUpdate:modelValue"],le={key:0,class:"mt-[-7px] error-text mb-4 block text-[11px]"},ie={class:"text-sm font-medium text-neutral-dark-gray text-center mt-6"},ne=t("a",{"x-on:click":"popup=true",id:"open-popup"},null,-1),he=K({__name:"Register",props:["languages","professions","regions"],setup(n){const V=n,g=m(!0),f=m(!0),d=m([]),u=m([]),e=T({idcard_name:"",name:"",date_of_birth:"",phone_number:"",image:null,province:"",city:"",subdistrict:"",profession:"",languages:[],password:"",password_confirmation:""}),N=()=>{j.visit(route("guide.login"))},I=()=>{e.processing||e.post(route("guide.register.store"),{onSuccess:()=>{E("open-popup")},onError:l=>{}})};v(()=>e.province,(l,r)=>{B()});const B=()=>{g.value=!1,V.regions.filter(l=>{let r=e.city;e.city="",l.id==e.province&&(d.value=l.cities,d.value.map(o=>{o.id==r&&(e.city=r)}),setTimeout(()=>{g.value=!0},100))})};v(()=>e.city,(l,r)=>{S()});const S=()=>{f.value=!1,u.value=[],V.regions.filter(l=>{l.id==e.province&&d.value.map(r=>{let o=e.subdistrict;e.subdistrict="",r.id==e.city&&(u.value=r.subdistricts,u.value.map(b=>{b.id==o&&(e.subdistrict=o)})),setTimeout(()=>{f.value=!0},100)})})};return(l,r)=>(i(),p(y,null,[s(a(D),{title:"Register"}),t("section",G,[t("div",H,[s(M,{href:l.route("guide.login"),"border-color":"silver","text-color":"graphite","bg-color":"transparent",icon:"isax icon-arrow-left-2 !text-xl",class:"!py-1 !px-2"},null,8,["href"]),s(W)]),Q,X,t("form",{class:"mt-10 w-full flex flex-col",onSubmit:C(I,["prevent"]),enctype:"multipart/form-data"},[s(P,{label:"Nama lengkap (sesuai KTP)",type:"text",placeholder:"Input Nama lengkap (sesuai KTP)",id:"idcard_name",name:"idcard_name",modelValue:a(e).idcard_name,"onUpdate:modelValue":r[0]||(r[0]=o=>a(e).idcard_name=o),error:a(e).errors.idcard_name},null,8,["modelValue","error"]),s(P,{label:"Nama Panggilan",type:"text",placeholder:"Input Nama Panggilan",id:"name",name:"name",modelValue:a(e).name,"onUpdate:modelValue":r[1]||(r[1]=o=>a(e).name=o),error:a(e).errors.name},null,8,["modelValue","error"]),s(J,{label:"Tanggal Lahir",name:"date_of_birth",maxDate:"2008-01-01",modelValue:a(e).date_of_birth,"onUpdate:modelValue":r[2]||(r[2]=o=>a(e).date_of_birth=o),error:a(e).errors.date_of_birth},null,8,["modelValue","error"]),s(z,{label:"Nomor WA",type:"text",placeholder:"Input Nomor WA contoh: 6281....",id:"phone",name:"phone",modelValue:a(e).phone_number,"onUpdate:modelValue":r[3]||(r[3]=o=>a(e).phone_number=o),error:a(e).errors.phone_number},null,8,["modelValue","error"]),s(Z,{label:"Upload Foto Profil",id:"dropzone_image",name:"image",modelValue:a(e).image,"onUpdate:modelValue":r[4]||(r[4]=o=>a(e).image=o),error:a(e).errors.image},null,8,["modelValue","error"]),n.regions?(i(),_(h,{key:0,placeholder:"Pilih Provinsi",label:"Provinsi",data:n.regions,id:"province",modelValue:a(e).province,"onUpdate:modelValue":r[5]||(r[5]=o=>a(e).province=o),selected:a(e).province,error:a(e).errors.province},null,8,["data","modelValue","selected","error"])):c("",!0),t("div",ee,[t("div",null,[g.value?(i(),_(h,{key:0,placeholder:"Pilih Kabupaten",label:"Kabupaten/kotamadya",data:d.value,id:"city",modelValue:a(e).city,"onUpdate:modelValue":r[6]||(r[6]=o=>a(e).city=o),selected:a(e).city,error:a(e).errors.city},null,8,["data","modelValue","selected","error"])):c("",!0)]),t("div",null,[f.value?(i(),_(h,{key:0,placeholder:"Pilih Kecamatan",label:"Kecamatan",data:u.value,id:"subdistrict",modelValue:a(e).subdistrict,"onUpdate:modelValue":r[7]||(r[7]=o=>a(e).subdistrict=o),selected:a(e).subdistrict,error:a(e).errors.subdistrict},null,8,["data","modelValue","selected","error"])):c("",!0)])]),t("div",ae,[oe,t("div",re,[(i(!0),p(y,null,L(n.professions,o=>(i(),p("div",{class:"flex items-center px-3 py-4 border border-light-gray rounded-lg",key:o.id},[t("label",{for:o.id,class:"w-full text-sm font-medium text-dark"},w(o.name),9,te),R(t("input",{id:o.id,value:o.id,name:"profession",type:"radio",class:"w-5 h-5 text-white bg-white border-gray-600 300 focus:ring-green focus:ring-1 cursor-pointer transition-all checked:text-green","onUpdate:modelValue":b=>a(e).profession=b},null,8,se),[[A,a(e).profession]])]))),128))]),a(e).errors.profession?(i(),p("small",le,w(a(e).errors.profession),1)):c("",!0)]),s(q,{label:"Bahasa",category:n.languages,id:"languages",modelValue:a(e).languages,"onUpdate:modelValue":r[8]||(r[8]=o=>a(e).languages=o),error:a(e).errors.languages},null,8,["category","modelValue","error"]),s(U,{label:"Password (minimal 6 digit)",placeholder:"Input Password",id:"password",name:"password",modelValue:a(e).password,"onUpdate:modelValue":r[9]||(r[9]=o=>a(e).password=o),error:a(e).errors.password},null,8,["modelValue","error"]),s(U,{label:"Konfirmasi Password",placeholder:"Input Ulang Password",id:"password_confirmation",name:"password_confirmation",modelValue:a(e).password_confirmation,"onUpdate:modelValue":r[10]||(r[10]=o=>a(e).password_confirmation=o),error:a(e).errors.password_confirmation},null,8,["modelValue","error"]),s($,{type:"submit","bg-color":"blue","text-color":"white",class:"w-full flex-center mt-8",disabled:!a(e).idcard_name||!a(e).name||!a(e).date_of_birth||!a(e).phone_number||!a(e).image||!a(e).profession||!a(e).languages.length||!a(e).password||!a(e).password_confirmation||a(e).processing,loading:a(e).processing},{default:k(()=>[x(" Registrasi ")]),_:1},8,["disabled","loading"]),t("p",ie,[x(" Sudah punya akun? "),s(a(F),{href:l.route("guide.login"),class:"text-blue font-semibold"},{default:k(()=>[x("Login")]),_:1},8,["href"])])],40,Y),ne,s(O,{close:!0,title:"Registrasi Berhasil",onAction:N})])],64))}});export{he as default};
