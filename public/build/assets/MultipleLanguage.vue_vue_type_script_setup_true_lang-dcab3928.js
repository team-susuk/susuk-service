import{d as V,r as d,C as $,c as n,f as g,t as i,l as u,b as l,F as v,m as w,s as y,R as S,n as I,K as L,o as s}from"./app-8d83aa9a.js";const N=["for"],z={key:0,class:"text-red"},A=["data-value"],E=["id"],D={class:"px-3 items-center flex bg-neutral-light-gray text-xs h-[32px] rounded-full font-medium","x-on:click":"dropdownOpen=false"},F=["onClick"],M=l("i",{class:"isax icon-arrow-down-1 float-right mt-[-37px] me-4 text-[#B4B6B8] text-[13px]"},null,-1),R={key:0,class:"mb-4"},J={class:"text-[11px] text-dark float-right"},P=l("span",{"x-text":"input.length"},null,-1),T={class:"flex-1 overflow-auto"},W=["onClick"],j=l("br",null,null,-1),q=l("br",null,null,-1),H={key:1,class:"mt-[-7px] error-text mb-4 block text-[11px]"},K={key:2,class:"block mt-[-7px] text-[10px] mb-4 text-[#A3A3A3]"},G=V({__name:"MultipleLanguage",props:{label:{},help:{},error:{},id:{},category:{},selected:{},popup:{type:Boolean},allOptions:{type:Boolean}},emits:["update:modelValue"],setup(_,{emit:k}){const c=k,r=_,m=d(""),o=d([]),h=d("auto"),x=d(!0),p=d([]),C=e=>{const a=o.value.map(t=>t.id);e.id=="all"?(o.value=[{id:"all",name:e.name}],c("update:modelValue",o.value.map(t=>t.name))):(b("all"),a.includes(e.id)||(o.value.push({id:e.id,name:e.name}),c("update:modelValue",o.value.map(t=>t.name))))},b=e=>{o.value=o.value.filter(a=>a.id!==e),c("update:modelValue",o.value.map(a=>a.name))},f=()=>{const e=document.getElementById(`wrapper_${r.id}`);r.popup&&(e?(h.value=`${e.getBoundingClientRect().width}px`,window.innerHeight-e.getBoundingClientRect().bottom<250?x.value=!1:x.value=!0):h.value="auto")};$(()=>{if(r.allOptions?p.value=[{id:"all",name:"Semua"},...r.category]:p.value=r.category,r.selected){const e=[],a=JSON.parse(JSON.stringify(r.selected));p.value.forEach(t=>{a.includes(t.name)&&e.push({id:t.id,name:t.name})}),o.value=e}f(),window.addEventListener("resize",f)});const B=()=>{let e=m.value.toLowerCase();return p.value.filter(function(a){return a.name.toLowerCase().includes(e)})};return(e,a)=>(s(),n(v,null,[e.label?(s(),n("label",{key:0,for:e.id,class:"text-[12px] text-dark mb-1 block"},[g(i(e.label)+" ",1),e.$attrs.required?(s(),n("span",z,"*")):u("",!0)],8,N)):u("",!0),l("div",{class:y(["relative mb-2",{"has-error":e.error}]),"x-data":"{input: $el.getAttribute('data-value'),dropdownOpen : false}","data-value":e.$attrs.value||""},[l("div",{class:"border border-light-gray rounded-lg placeholder:text-neutral-gray px-4 text-sm min-h-[42px] flex gap-2 flex-wrap outline-none py-2 w-full mb-2 items-center",id:"wrapper_"+e.id},[(s(!0),n(v,null,w(o.value,t=>(s(),n("span",D,[g(i(t.name)+" ",1),l("i",{class:"isax-b icon-close-circle ms-3 cursor-pointer text-neutral-gray-3 text-lg",onClick:O=>b(t.id)},null,8,F)]))),256)),l("div",{class:y(["mt-[3px] flex-1 h-full min-w-[100px] cursor-pointer whitespace-nowrap overflow-hidden font-medium",{"text-[#ddd]":o.value.length}]),"x-on:click":"dropdownOpen=true",onClick:f}," Pilih Bahasa ",2)],8,E),M,e.$attrs.maxlength?(s(),n("div",R,[l("p",J,[P,g("/"+i(e.$attrs.maxlength),1)])])):u("",!0),l("div",{class:y(["fixed w-full z-10",{"bottom-0":!x.value,fixed:e.popup,absolute:!e.popup}]),"x-transition:enter":"transition ease-out duration-50","x-transition:enter-start":"opacity-0 -translate-y-1","x-transition:enter-end":"opacity-100","x-show":"dropdownOpen","x-on:click.away":"dropdownOpen = false"},[l("div",{class:"bg-white border rounded-lg w-full max-h-60 p-2 flex flex-col",style:S({width:h.value})},[l("div",null,[I(l("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>m.value=t),class:"bg-white rounded-lg placeholder:text-neutral-gray px-4 text-xs outline-none py-2 w-full mb-2 border-light-gray font-medium focus:ring-0 focus:border-light-gray",placeholder:"Cari Bahasa"},null,512),[[L,m.value]])]),l("ul",T,[(s(!0),n(v,null,w(B(),t=>(s(),n("li",{key:t.id},[l("a",{href:"javascript:;",class:"flex gap-3 p-[5px] px-2 rounded-md hover:bg-neutral-light-gray text-sm text-dark transition-all","x-on:click":"dropdownOpen=false",onClick:O=>C(t)},i(t.name),9,W)]))),128))])],4),j,q],2),e.error?(s(),n("small",H,i(e.error),1)):u("",!0),e.help?(s(),n("small",K,i(e.help),1)):u("",!0)],10,A)],64))}});export{G as _};
