import{d as F,r as k,H as z,c,f as g,t as v,l as u,b as l,s as E,w as y,n as L,$ as R,R as A,a as s,F as K,a0 as M,o as m,T as O,j as N,u as o,k as V,e as S,S as j,Z as H,i as Z,g as q,O as G,h as J}from"./app-463f6553.js";import{B as Q,L as X}from"./Outline-91b86939.js";import{I as x}from"./InputNumber-3404211d.js";import{I as P}from"./Index-1936bc15.js";import{_ as Y}from"./DropZoneImage.vue_vue_type_script_setup_true_lang-02f2e4cc.js";import{_ as W}from"./Password.vue_vue_type_script_setup_true_lang-a1c9eaff.js";import{T as ee}from"./Textarea-06f7eda0.js";import{_ as C,w as oe,a as ae}from"./days-b0e86ddf.js";import{_ as h}from"./TimePicker.vue_vue_type_script_setup_true_lang-623fb805.js";import{F as re}from"./File-bb7d3b5e.js";import{_ as T}from"./Single.vue_vue_type_script_setup_true_lang-19f93965.js";import"./flatpickr.min-e561b34c.js";const le=["for"],te={key:0,class:"text-red"},se={class:"relative mb-2"},ie=["onDragover","onDragenter","onDragleave","onDrop","for"],ne={class:"flex-center flex-col z-[2] relative w-full h-full"},de=["for"],me=l("span",{class:"font-semibold"},"Drag",-1),ue=l("span",{class:"font-semibold"},"klik",-1),pe={key:0,class:"mt-2 max-w-[250px]"},ce=l("p",{class:"text-[12px] text-dark"},"Selected File:",-1),_e={class:"text-[12px] text-dark font-semibold truncate"},ge=["id"],fe={key:0,class:"mb-4"},ke={class:"text-[11px] text-dark float-right"},be=l("span",{"x-text":"input.length"},null,-1),ve={key:1,class:"mt-[-7px] error-text mb-4 block text-[11px]"},ye={key:2,class:"block mt-[-7px] text-[10px] mb-4"},we=F({__name:"DropZoneFile",props:{id:{},label:{},name:{},error:{},help:{},modelValue:{}},emits:["update:modelValue"],setup(_,{emit:w}){const p=w,f=_,i=k(void 0),n=k(!1);let e=0;const U=t=>{t.preventDefault(),n.value=!0,t.dataTransfer.dropEffect="copy"},$=t=>{e++,e>0&&(n.value=!0)},D=()=>{e--,e<=0&&(n.value=!1)},I=t=>{if(e=0,n.value=!1,t.dataTransfer&&t.dataTransfer.files){const b=t.dataTransfer.files[0];b&&(i.value=b,p("update:modelValue",b))}},d=t=>{const B=t.target.files;B&&B.length>0&&(i.value=B[0],a())},a=()=>{var t;if(i.value){if(p("update:modelValue",i.value),(t=i.value)!=null&&t.size&&i.value.size>2*1024*1024){document.getElementById(f.id).value="",i.value=void 0,p("update:modelValue",null),M("File terlalu besar, harap unggah file yang lebih kecil dari 2MB.","error");return}}else document.getElementById(f.id).value="",p("update:modelValue",null)},r=z(()=>i.value?`${i.value.name} (${(i.value.size/1024).toFixed(2)} KB)`:"Tidak ada file yang dipilih");return(t,b)=>(m(),c(K,null,[t.label?(m(),c("label",{key:0,for:t.id,class:"text-[12px] text-dark mb-1 block"},[g(v(t.label)+" ",1),t.$attrs.required?(m(),c("span",te,"*")):u("",!0)],8,le)):u("",!0),l("div",se,[l("label",{class:E(["bg-white rounded-lg w-full mb-2 border border-light-gray h-[150px] flex-center cursor-pointer relative flex-col overflow-hidden",{"bg-gray-200":n.value}]),onDragover:y(U,["prevent"]),onDragenter:y($,["prevent"]),onDragleave:y(D,["prevent"]),onDrop:y(I,["prevent"]),for:t.id},[l("div",ne,[L(l("div",{class:"absolute inset-0 rounded-lg flex-center text-white text-3xl font-semibold",style:A({background:"rgba(0, 0, 0, 0.3)",opacity:n.value?1:0,transition:"opacity 0.3s"})}," Place here ",4),[[R,n.value]]),s(re,{class:"mb-2"}),l("label",{for:t.id,class:"text-neutral-dark-gray text-sm"},[me,g(" file atau "),ue,g(" untuk upload")],8,de),i.value?(m(),c("div",pe,[ce,l("p",_e,v(r.value),1)])):u("",!0),l("input",{id:t.id,ref:"input",class:"drop-zone-file",type:"file",onChange:d,hidden:""},null,40,ge)])],42,ie),t.$attrs.maxlength?(m(),c("div",fe,[l("p",ke,[be,g("/"+v(t.$attrs.maxlength),1)])])):u("",!0),t.error?(m(),c("small",ve,v(t.error),1)):u("",!0),t.help?(m(),c("small",ye,v(t.help),1)):u("",!0)])],64))}}),Ve={class:"","x-data":"{popup: false}"},xe={class:"flex items-center justify-between"},he=l("h1",{class:"text-dark text-2xl font-bold text-center max-w-xs mx-auto mt-14"}," Daftarkan akun kamu sekarang âœ¨ ",-1),Te=l("p",{class:"text-dark text-sm font-medium mt-3 text-center"}," Promosikan toko kamu kepada semua member guide ",-1),Ue=["onSubmit"],$e={class:"grid grid-cols-1 md:grid-cols-2 gap-x-4 mb-2"},De={class:"grid grid-cols-2 gap-x-4"},Ie=l("label",{for:"start_commission_range",class:"text-[12px] text-dark mb-1 block"}," Range Komisi (%) ",-1),Be={class:"grid grid-cols-2 gap-x-4"},Pe={class:"grid grid-cols-2 gap-x-4"},Ne={class:"grid grid-cols-2 gap-x-4"},Se={class:"text-sm font-medium text-neutral-dark-gray text-center mt-6"},We=l("a",{"x-on:click":"popup=true",id:"open-popup"},null,-1),Ze=F({__name:"Register",props:["categories","regions"],setup(_){const w=_,p=k(!0),f=k(!0),i=k([]),n=k([]),e=O({name:"",image:null,description:"",category:"",province:"",city:"",subdistrict:"",address:"",pic_name:"",pic_phone:"",pic_phone_wa:"",start_commission_range:0,end_commission_range:0,weekdays:[],open_time_weekdays:"",close_time_weekdays:"",weekends:[],open_time_weekends:"",close_time_weekends:"",document:null,password:"",password_confirmation:""}),U=()=>{G.visit(route("merchant.login"))},$=()=>{e.processing||e.post(route("merchant.register.store"),{onSuccess:()=>{J("open-popup")},onError:d=>{}})};N(()=>e.province,(d,a)=>{D()});const D=()=>{p.value=!1,w.regions.filter(d=>{let a=e.city;e.city="",d.id==e.province&&(i.value=d.cities,i.value.map(r=>{r.id==a&&(e.city=a)}),setTimeout(()=>{p.value=!0},100))})};N(()=>e.city,(d,a)=>{I()});const I=()=>{f.value=!1,n.value=[],w.regions.filter(d=>{d.id==e.province&&i.value.map(a=>{let r=e.subdistrict;e.subdistrict="",a.id==e.city&&(n.value=a.subdistricts,n.value.map(t=>{t.id==r&&(e.subdistrict=r)})),setTimeout(()=>{f.value=!0},100)})})};return(d,a)=>(m(),c(K,null,[s(o(H),{title:"Register"}),l("section",Ve,[l("div",xe,[s(Q,{href:d.route("merchant.login"),"border-color":"silver","text-color":"graphite","bg-color":"transparent",icon:"isax icon-arrow-left-2 !text-xl",class:"!py-1 !px-2"},null,8,["href"]),s(X)]),he,Te,l("form",{class:"mt-10 w-full flex flex-col",enctype:"multipart/form-data",onSubmit:y($,["prevent"])},[s(P,{label:"Nama Toko",type:"text",placeholder:"Input Nama Toko",id:"name",name:"name",modelValue:o(e).name,"onUpdate:modelValue":a[0]||(a[0]=r=>o(e).name=r),error:o(e).errors.name},null,8,["modelValue","error"]),s(Y,{label:"Upload Foto Toko",id:"dropzone_image",name:"image",modelValue:o(e).image,"onUpdate:modelValue":a[1]||(a[1]=r=>o(e).image=r),error:o(e).errors.image},null,8,["modelValue","error"]),s(ee,{label:"Deskripsi Toko",placeholder:"Input Deskripsi Toko",id:"message",name:"message",modelValue:o(e).description,"onUpdate:modelValue":a[2]||(a[2]=r=>o(e).description=r),rows:"5",maxlength:"1000",error:o(e).errors.description},null,8,["modelValue","error"]),_.categories?(m(),V(T,{key:0,placeholder:"Pilih Kategori",label:"Kategori Merchant",data:_.categories,id:"category",modelValue:o(e).category,"onUpdate:modelValue":a[3]||(a[3]=r=>o(e).category=r),selected:o(e).category,error:o(e).errors.category},null,8,["data","modelValue","selected","error"])):u("",!0),_.regions?(m(),V(T,{key:1,placeholder:"Pilih Provinsi",label:"Provinsi",data:_.regions,id:"province",modelValue:o(e).province,"onUpdate:modelValue":a[4]||(a[4]=r=>o(e).province=r),selected:o(e).province,error:o(e).errors.province},null,8,["data","modelValue","selected","error"])):u("",!0),l("div",$e,[l("div",null,[p.value?(m(),V(T,{key:0,placeholder:"Pilih Kabupaten",label:"Kabupaten/kotamadya",data:i.value,id:"city",modelValue:o(e).city,"onUpdate:modelValue":a[5]||(a[5]=r=>o(e).city=r),selected:o(e).city,error:o(e).errors.city},null,8,["data","modelValue","selected","error"])):u("",!0)]),l("div",null,[f.value?(m(),V(T,{key:0,placeholder:"Pilih Kecamatan",label:"Kecamatan",data:n.value,id:"subdistrict",modelValue:o(e).subdistrict,"onUpdate:modelValue":a[6]||(a[6]=r=>o(e).subdistrict=r),selected:o(e).subdistrict,error:o(e).errors.subdistrict},null,8,["data","modelValue","selected","error"])):u("",!0)])]),s(P,{label:"Alamat Lengkap Toko",type:"text",placeholder:"Input Alamat Lengkap Toko",id:"address",name:"address",modelValue:o(e).address,"onUpdate:modelValue":a[7]||(a[7]=r=>o(e).address=r),error:o(e).errors.address},null,8,["modelValue","error"]),s(P,{label:"Nama PIC",type:"text",placeholder:"Input Nama PIC",id:"pic_name",name:"pic_name",modelValue:o(e).pic_name,"onUpdate:modelValue":a[8]||(a[8]=r=>o(e).pic_name=r),error:o(e).errors.pic_name},null,8,["modelValue","error"]),l("div",De,[l("div",null,[s(x,{label:"No Telepon Toko",type:"text",placeholder:"Input No Telepon Toko contoh: 6281....",id:"pic_phone",name:"pic_phone",modelValue:o(e).pic_phone,"onUpdate:modelValue":a[9]||(a[9]=r=>o(e).pic_phone=r),error:o(e).errors.pic_phone},null,8,["modelValue","error"])]),l("div",null,[s(x,{label:"No WA (Login)",type:"text",placeholder:"Input No WA contoh: 6281....",id:"pic_phone_wa",name:"pic_phone_wa",modelValue:o(e).pic_phone_wa,"onUpdate:modelValue":a[10]||(a[10]=r=>o(e).pic_phone_wa=r),error:o(e).errors.pic_phone_wa},null,8,["modelValue","error"])])]),l("section",null,[Ie,l("div",Be,[l("div",null,[s(x,{label:"",type:"text",placeholder:"Input Range Komisi",id:"start_commission_range",name:"start_commission_range",modelValue:o(e).start_commission_range,"onUpdate:modelValue":a[11]||(a[11]=r=>o(e).start_commission_range=r),icon:"isax icon-percentage-circle",error:o(e).errors.start_commission_range},null,8,["modelValue","error"])]),s(x,{label:"",type:"text",placeholder:"Input Range Komisi",id:"start_commission_range",name:"start_commission_range",modelValue:o(e).end_commission_range,"onUpdate:modelValue":a[12]||(a[12]=r=>o(e).end_commission_range=r),icon:"isax icon-percentage-circle",error:o(e).errors.end_commission_range},null,8,["modelValue","error"])])]),s(C,{label:"Weekdays",placeholder:"Tambah Hari",options:o(oe),id:"weekdays",icon:"isax icon-add",modelValue:o(e).weekdays,"onUpdate:modelValue":a[13]||(a[13]=r=>o(e).weekdays=r),error:o(e).errors.weekdays},null,8,["options","modelValue","error"]),l("div",Pe,[l("div",null,[s(h,{label:"Waktu Buka Weekdays",name:"open_time_weekdays",modelValue:o(e).open_time_weekdays,"onUpdate:modelValue":a[14]||(a[14]=r=>o(e).open_time_weekdays=r),error:o(e).errors.open_time_weekdays},null,8,["modelValue","error"])]),l("div",null,[s(h,{label:"Waktu Tutup Weekdays",name:"close_time_weekdays",modelValue:o(e).close_time_weekdays,"onUpdate:modelValue":a[15]||(a[15]=r=>o(e).close_time_weekdays=r),error:o(e).errors.close_time_weekdays},null,8,["modelValue","error"])])]),s(C,{label:"Weekends",placeholder:"Tambah Hari",options:o(ae),id:"weekends",icon:"isax icon-add",modelValue:o(e).weekends,"onUpdate:modelValue":a[16]||(a[16]=r=>o(e).weekends=r),error:o(e).errors.weekends},null,8,["options","modelValue","error"]),l("div",Ne,[l("div",null,[s(h,{label:"Waktu Buka Weekends",name:"open_time_weekends",modelValue:o(e).open_time_weekends,"onUpdate:modelValue":a[17]||(a[17]=r=>o(e).open_time_weekends=r),error:o(e).errors.open_time_weekdays},null,8,["modelValue","error"])]),l("div",null,[s(h,{label:"Waktu Tutup Weekends",name:"close_time_weekends",modelValue:o(e).close_time_weekends,"onUpdate:modelValue":a[18]||(a[18]=r=>o(e).close_time_weekends=r),error:o(e).errors.close_time_weekdays},null,8,["modelValue","error"])])]),s(we,{label:"Upload Ijin Usaha (opsional)",id:"dropzone_document",name:"document",modelValue:o(e).document,"onUpdate:modelValue":a[19]||(a[19]=r=>o(e).document=r),error:o(e).errors.document},null,8,["modelValue","error"]),s(W,{label:"Password (minimal 6 digit)",placeholder:"Input Password",id:"password",name:"password",modelValue:o(e).password,"onUpdate:modelValue":a[20]||(a[20]=r=>o(e).password=r),error:o(e).errors.password},null,8,["modelValue","error"]),s(W,{label:"Konfirmasi Password",placeholder:"Input Ulang Password",id:"password_confirmation",name:"password_confirmation",modelValue:o(e).password_confirmation,"onUpdate:modelValue":a[21]||(a[21]=r=>o(e).password_confirmation=r),error:o(e).errors.password_confirmation},null,8,["modelValue","error"]),s(j,{type:"submit","bg-color":"blue","text-color":"white",class:"w-full flex-center mt-8",disabled:!o(e).name||!o(e).image||!o(e).description||!o(e).category||!o(e).province||!o(e).city||!o(e).subdistrict||!o(e).address||!o(e).pic_name||!o(e).pic_phone||!o(e).pic_phone_wa||!o(e).start_commission_range||!o(e).end_commission_range||!o(e).weekdays.length||!o(e).open_time_weekdays||!o(e).close_time_weekdays||!o(e).password||!o(e).password_confirmation||o(e).processing,loading:o(e).processing},{default:S(()=>[g(" Registrasi ")]),_:1},8,["disabled","loading"]),l("p",Se,[g(" Sudah punya akun? "),s(o(Z),{href:d.route("merchant.login"),class:"text-blue font-semibold"},{default:S(()=>[g("Login")]),_:1},8,["href"])])],40,Ue),We,s(q,{close:!0,title:"Registrasi Berhasil",onAction:U})])],64))}});export{Ze as default};
