import{d as K,r as f,H as z,c as p,f as g,t as v,l as u,b as r,s as L,w,n as E,$ as R,P as A,a as s,F,o as m,T as O,j as B,u as o,k as V,e as S,S as j,Z as H,i as M,g as Z,O as q,h as G}from"./app-2c3ca879.js";import{B as J,L as Q}from"./Outline-22f1ba91.js";import{I as x}from"./InputNumber-0a814e02.js";import{I as N}from"./Index-4cd5496e.js";import{_ as X}from"./DropZoneImage.vue_vue_type_script_setup_true_lang-897a8f54.js";import{_ as W}from"./Password.vue_vue_type_script_setup_true_lang-6d3b58ff.js";import{T as Y}from"./Textarea-c0070b6b.js";import{_ as C,w as ee,a as oe}from"./days-ba19fffd.js";import{_ as h}from"./TimePicker.vue_vue_type_script_setup_true_lang-1e029a38.js";import{i as ae}from"./File-36585ad6.js";import{_ as U}from"./Single.vue_vue_type_script_setup_true_lang-117b2f3b.js";import"./flatpickr.min-e561b34c.js";const te=["for"],re={key:0,class:"text-red"},le={class:"relative mb-2"},se=["onDragover","onDragenter","onDragleave","onDrop","for"],ne={class:"flex-center flex-col z-[2] relative w-full h-full"},ie=["for"],de=r("span",{class:"font-semibold"},"Drag",-1),me=r("span",{class:"font-semibold"},"klik",-1),ue={key:0,class:"mt-2 max-w-[250px]"},pe=r("p",{class:"text-[12px] text-dark"},"Selected File:",-1),ce={class:"text-[12px] text-dark font-semibold truncate"},_e=["id"],ge={key:0,class:"mb-4"},fe={class:"text-[11px] text-dark float-right"},ke=r("span",{"x-text":"input.length"},null,-1),be={key:1,class:"mt-[-7px] error-text mb-4 block text-[11px]"},ve={key:2,class:"block mt-[-7px] text-[10px] mb-4"},we=K({__name:"DropZoneFile",props:{id:{},label:{},name:{},error:{},help:{},modelValue:{}},emits:["update:modelValue"],setup(c,{emit:y}){const _=y,k=c,n=f(void 0),i=f(!1);let e=0;const $=l=>{l.preventDefault(),i.value=!0,l.dataTransfer.dropEffect="copy"},T=l=>{e++,e>0&&(i.value=!0)},D=()=>{e--,e<=0&&(i.value=!1)},I=l=>{if(e=0,i.value=!1,l.dataTransfer&&l.dataTransfer.files){const b=l.dataTransfer.files[0];b&&(n.value=b,_("update:modelValue",b))}},d=l=>{const P=l.target.files;P&&P.length>0&&(n.value=P[0],a())},a=()=>{n.value?_("update:modelValue",n.value):(document.getElementById(k.id).value="",_("update:modelValue",null))},t=z(()=>n.value?`${n.value.name} (${(n.value.size/1024).toFixed(2)} KB)`:"No file selected");return(l,b)=>(m(),p(F,null,[l.label?(m(),p("label",{key:0,for:l.id,class:"text-[12px] text-dark mb-1 block"},[g(v(l.label)+" ",1),l.$attrs.required?(m(),p("span",re,"*")):u("",!0)],8,te)):u("",!0),r("div",le,[r("label",{class:L(["bg-white rounded-lg w-full mb-2 border border-light-gray h-[150px] flex-center cursor-pointer relative flex-col overflow-hidden",{"bg-gray-200":i.value}]),onDragover:w($,["prevent"]),onDragenter:w(T,["prevent"]),onDragleave:w(D,["prevent"]),onDrop:w(I,["prevent"]),for:l.id},[r("div",ne,[E(r("div",{class:"absolute inset-0 rounded-lg flex-center text-white text-3xl font-semibold",style:A({background:"rgba(0, 0, 0, 0.3)",opacity:i.value?1:0,transition:"opacity 0.3s"})}," Place here ",4),[[R,i.value]]),s(ae,{class:"mb-2"}),r("label",{for:l.id,class:"text-neutral-dark-gray text-sm"},[de,g(" file atau "),me,g(" untuk upload")],8,ie),n.value?(m(),p("div",ue,[pe,r("p",ce,v(t.value),1)])):u("",!0),r("input",{id:l.id,ref:"input",class:"drop-zone-file",type:"file",onChange:d,hidden:""},null,40,_e)])],42,se),l.$attrs.maxlength?(m(),p("div",ge,[r("p",fe,[ke,g("/"+v(l.$attrs.maxlength),1)])])):u("",!0),l.error?(m(),p("small",be,v(l.error),1)):u("",!0),l.help?(m(),p("small",ve,v(l.help),1)):u("",!0)])],64))}}),ye={class:"","x-data":"{popup: false}"},Ve={class:"flex items-center justify-between"},xe=r("h1",{class:"text-dark text-2xl font-bold text-center max-w-xs mx-auto mt-14"}," Daftarkan akun kamu sekarang âœ¨ ",-1),he=r("p",{class:"text-dark text-sm font-medium mt-3 text-center"}," Promosikan toko kamu kepada semua member guide ",-1),Ue=["onSubmit"],$e={class:"grid grid-cols-2 gap-x-4 mb-2"},Te={class:"grid grid-cols-2 gap-x-4"},De=r("label",{for:"start_commission_range",class:"text-[12px] text-dark mb-1 block"}," Range Komisi (%) ",-1),Ie={class:"grid grid-cols-2 gap-x-4"},Pe={class:"grid grid-cols-2 gap-x-4"},Ne={class:"grid grid-cols-2 gap-x-4"},Be={class:"text-sm font-medium text-neutral-dark-gray text-center mt-6"},Se=r("a",{"x-on:click":"popup=true",id:"open-popup"},null,-1),Me=K({__name:"Register",props:["categories","regions"],setup(c){const y=c,_=f(!0),k=f(!0),n=f([]),i=f([]),e=O({name:"",image:null,description:"",category:"",province:"",city:"",subdistrict:"",address:"",pic_name:"",pic_phone:"",pic_phone_wa:"",start_commission_range:0,end_commission_range:0,weekdays:[],open_time_weekdays:"",close_time_weekdays:"",weekends:[],open_time_weekends:"",close_time_weekends:"",document:null,password:"",password_confirmation:""}),$=()=>{q.visit(route("merchant.login"))},T=()=>{e.processing||e.post(route("merchant.register.store"),{onSuccess:()=>{G("open-popup")},onError:d=>{}})};B(()=>e.province,(d,a)=>{D()});const D=()=>{_.value=!1,y.regions.filter(d=>{let a=e.city;e.city="",d.id==e.province&&(n.value=d.cities,n.value.map(t=>{t.id==a&&(e.city=a)}),setTimeout(()=>{_.value=!0},100))})};B(()=>e.city,(d,a)=>{I()});const I=()=>{k.value=!1,i.value=[],y.regions.filter(d=>{d.id==e.province&&n.value.map(a=>{let t=e.subdistrict;e.subdistrict="",a.id==e.city&&(i.value=a.subdistricts,i.value.map(l=>{l.id==t&&(e.subdistrict=t)})),setTimeout(()=>{k.value=!0},100)})})};return(d,a)=>(m(),p(F,null,[s(o(H),{title:"Register"}),r("section",ye,[r("div",Ve,[s(J,{href:d.route("merchant.login"),"border-color":"silver","text-color":"graphite","bg-color":"transparent",icon:"isax icon-arrow-left-2 !text-xl",class:"!py-1 !px-2"},null,8,["href"]),s(Q)]),xe,he,r("form",{class:"mt-10 w-full flex flex-col",enctype:"multipart/form-data",onSubmit:w(T,["prevent"])},[s(N,{label:"Nama Toko",type:"text",placeholder:"Input Nama Toko",id:"name",name:"name",modelValue:o(e).name,"onUpdate:modelValue":a[0]||(a[0]=t=>o(e).name=t),error:o(e).errors.name},null,8,["modelValue","error"]),s(X,{label:"Upload Foto Toko",id:"dropzone_image",name:"image",modelValue:o(e).image,"onUpdate:modelValue":a[1]||(a[1]=t=>o(e).image=t),error:o(e).errors.image},null,8,["modelValue","error"]),s(Y,{label:"Deskripsi Toko",placeholder:"Input Deskripsi Toko",id:"message",name:"message",modelValue:o(e).description,"onUpdate:modelValue":a[2]||(a[2]=t=>o(e).description=t),rows:"5",maxlength:"1000",error:o(e).errors.description},null,8,["modelValue","error"]),c.categories?(m(),V(U,{key:0,placeholder:"Pilih Kategori",label:"Kategori Merchant",data:c.categories,id:"category",modelValue:o(e).category,"onUpdate:modelValue":a[3]||(a[3]=t=>o(e).category=t),selected:o(e).category,error:o(e).errors.category},null,8,["data","modelValue","selected","error"])):u("",!0),c.regions?(m(),V(U,{key:1,placeholder:"Pilih Provinsi",label:"Provinsi",data:c.regions,id:"province",modelValue:o(e).province,"onUpdate:modelValue":a[4]||(a[4]=t=>o(e).province=t),selected:o(e).province,error:o(e).errors.province},null,8,["data","modelValue","selected","error"])):u("",!0),r("div",$e,[r("div",null,[_.value?(m(),V(U,{key:0,placeholder:"Pilih Kabupaten",label:"Kabupaten/kotamadya",data:n.value,id:"city",modelValue:o(e).city,"onUpdate:modelValue":a[5]||(a[5]=t=>o(e).city=t),selected:o(e).city,error:o(e).errors.city},null,8,["data","modelValue","selected","error"])):u("",!0)]),r("div",null,[k.value?(m(),V(U,{key:0,placeholder:"Pilih Kecamatan",label:"Kecamatan",data:i.value,id:"subdistrict",modelValue:o(e).subdistrict,"onUpdate:modelValue":a[6]||(a[6]=t=>o(e).subdistrict=t),selected:o(e).subdistrict,error:o(e).errors.subdistrict},null,8,["data","modelValue","selected","error"])):u("",!0)])]),s(N,{label:"Alamat Lengkap Toko",type:"text",placeholder:"Input Alamat Lengkap Toko",id:"address",name:"address",modelValue:o(e).address,"onUpdate:modelValue":a[7]||(a[7]=t=>o(e).address=t),error:o(e).errors.address},null,8,["modelValue","error"]),s(N,{label:"Nama PIC",type:"text",placeholder:"Input Nama PIC",id:"pic_name",name:"pic_name",modelValue:o(e).pic_name,"onUpdate:modelValue":a[8]||(a[8]=t=>o(e).pic_name=t),error:o(e).errors.pic_name},null,8,["modelValue","error"]),r("div",Te,[r("div",null,[s(x,{label:"No Telepon Toko",type:"text",placeholder:"Input No Telepon Toko contoh: 6281....",id:"pic_phone",name:"pic_phone",modelValue:o(e).pic_phone,"onUpdate:modelValue":a[9]||(a[9]=t=>o(e).pic_phone=t),error:o(e).errors.pic_phone},null,8,["modelValue","error"])]),r("div",null,[s(x,{label:"No WA (Login)",type:"text",placeholder:"Input No WA contoh: 6281....",id:"pic_phone_wa",name:"pic_phone_wa",modelValue:o(e).pic_phone_wa,"onUpdate:modelValue":a[10]||(a[10]=t=>o(e).pic_phone_wa=t),error:o(e).errors.pic_phone_wa},null,8,["modelValue","error"])])]),r("section",null,[De,r("div",Ie,[r("div",null,[s(x,{label:"",type:"text",placeholder:"Input Range Komisi",id:"start_commission_range",name:"start_commission_range",modelValue:o(e).start_commission_range,"onUpdate:modelValue":a[11]||(a[11]=t=>o(e).start_commission_range=t),icon:"isax icon-percentage-circle",error:o(e).errors.start_commission_range},null,8,["modelValue","error"])]),s(x,{label:"",type:"text",placeholder:"Input Range Komisi",id:"start_commission_range",name:"start_commission_range",modelValue:o(e).end_commission_range,"onUpdate:modelValue":a[12]||(a[12]=t=>o(e).end_commission_range=t),icon:"isax icon-percentage-circle",error:o(e).errors.end_commission_range},null,8,["modelValue","error"])])]),s(C,{label:"Weekdays",placeholder:"Tambah Hari",options:o(ee),id:"weekdays",icon:"isax icon-add",modelValue:o(e).weekdays,"onUpdate:modelValue":a[13]||(a[13]=t=>o(e).weekdays=t),error:o(e).errors.weekdays},null,8,["options","modelValue","error"]),r("div",Pe,[r("div",null,[s(h,{label:"Waktu Buka Weekdays",name:"open_time_weekdays",modelValue:o(e).open_time_weekdays,"onUpdate:modelValue":a[14]||(a[14]=t=>o(e).open_time_weekdays=t),error:o(e).errors.open_time_weekdays},null,8,["modelValue","error"])]),r("div",null,[s(h,{label:"Waktu Tutup Weekdays",name:"close_time_weekdays",modelValue:o(e).close_time_weekdays,"onUpdate:modelValue":a[15]||(a[15]=t=>o(e).close_time_weekdays=t),error:o(e).errors.close_time_weekdays},null,8,["modelValue","error"])])]),s(C,{label:"Weekends",placeholder:"Tambah Hari",options:o(oe),id:"weekends",icon:"isax icon-add",modelValue:o(e).weekends,"onUpdate:modelValue":a[16]||(a[16]=t=>o(e).weekends=t),error:o(e).errors.weekends},null,8,["options","modelValue","error"]),r("div",Ne,[r("div",null,[s(h,{label:"Waktu Buka Weekends",name:"open_time_weekends",modelValue:o(e).open_time_weekends,"onUpdate:modelValue":a[17]||(a[17]=t=>o(e).open_time_weekends=t),error:o(e).errors.open_time_weekdays},null,8,["modelValue","error"])]),r("div",null,[s(h,{label:"Waktu Tutup Weekends",name:"close_time_weekends",modelValue:o(e).close_time_weekends,"onUpdate:modelValue":a[18]||(a[18]=t=>o(e).close_time_weekends=t),error:o(e).errors.close_time_weekdays},null,8,["modelValue","error"])])]),s(we,{label:"Upload Ijin Usaha (opsional)",id:"dropzone_document",name:"document",modelValue:o(e).document,"onUpdate:modelValue":a[19]||(a[19]=t=>o(e).document=t),error:o(e).errors.document},null,8,["modelValue","error"]),s(W,{label:"Password (minimal 6 digit)",placeholder:"Input Password",id:"password",name:"password",modelValue:o(e).password,"onUpdate:modelValue":a[20]||(a[20]=t=>o(e).password=t),error:o(e).errors.password},null,8,["modelValue","error"]),s(W,{label:"Konfirmasi Password",placeholder:"Input Ulang Password",id:"password_confirmation",name:"password_confirmation",modelValue:o(e).password_confirmation,"onUpdate:modelValue":a[21]||(a[21]=t=>o(e).password_confirmation=t),error:o(e).errors.password_confirmation},null,8,["modelValue","error"]),s(j,{type:"submit","bg-color":"blue","text-color":"white",class:"w-full flex-center mt-8",disabled:!o(e).name||!o(e).image||!o(e).description||!o(e).category||!o(e).province||!o(e).city||!o(e).subdistrict||!o(e).address||!o(e).pic_name||!o(e).pic_phone||!o(e).pic_phone_wa||!o(e).start_commission_range||!o(e).end_commission_range||!o(e).weekdays.length||!o(e).open_time_weekdays||!o(e).close_time_weekdays||!o(e).weekends.length||!o(e).open_time_weekends||!o(e).close_time_weekends||!o(e).password||!o(e).password_confirmation||o(e).processing,loading:o(e).processing},{default:S(()=>[g(" Registrasi ")]),_:1},8,["disabled","loading"]),r("p",Be,[g(" Sudah punya akun? "),s(o(M),{href:d.route("merchant.login"),class:"text-blue font-semibold"},{default:S(()=>[g("Login")]),_:1},8,["href"])])],40,Ue),Se,s(Z,{close:!0,title:"Registrasi Berhasil",onAction:$})])],64))}});export{Me as default};
