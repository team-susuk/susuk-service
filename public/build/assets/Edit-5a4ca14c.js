import{d as f,T as g,C as b,k as V,e as d,o as k,a as t,u as r,Z as x,b as I,f as N,S as U,w as v}from"./app-afe0b9df.js";import{_ as P}from"./AuthLayout.vue_vue_type_script_setup_true_lang-1b4ca80d.js";import{_ as w}from"./HeaderDetail.vue_vue_type_script_setup_true_lang-7f224411.js";import{I as _}from"./InputNumber-f2a009b2.js";import{I as h}from"./InputPrice-99bb82d5.js";import{_ as y}from"./DropZoneImage.vue_vue_type_script_setup_true_lang-9f35f375.js";import{T as S}from"./Textarea-10edb90b.js";import{I as B}from"./Index-58adfc4a.js";const T=["onSubmit"],F=f({__name:"Edit",props:["product"],setup(m){var s,n,u;const l=m,e=g({name:(s=l.product)==null?void 0:s.name,image:null,description:(n=l.product)==null?void 0:n.description,commission:(u=l.product)==null?void 0:u.commission,price:"0"}),p=()=>{e.processing||e.post(route("merchant.products.edit.update",l.product.uuid))},c=i=>{const o=Number(i).toLocaleString("id-ID");return isNaN(Number(o.replace(/[.,]/g,"")))?0:o};return b(()=>{var i;e.price=c((i=l.product)==null?void 0:i.price)||"0"}),(i,o)=>(k(),V(P,{"hide-nav":!0},{default:d(()=>[t(r(x),{title:"Ubah Produk"}),t(w,{backUrl:i.route("merchant.products.detail",m.product.uuid),title:"Ubah Produk"},null,8,["backUrl"]),I("form",{class:"w-full flex flex-col",enctype:"multipart/form-data",onSubmit:v(p,["prevent"])},[t(B,{label:"Nama Produk",type:"text",placeholder:"Input Nama Produk",id:"name",name:"name",modelValue:r(e).name,"onUpdate:modelValue":o[0]||(o[0]=a=>r(e).name=a),value:r(e).name,error:r(e).errors.name},null,8,["modelValue","value","error"]),t(y,{label:"Upload Foto Produk",id:"dropzone_image",name:"image",modelValue:r(e).image,"onUpdate:modelValue":o[1]||(o[1]=a=>r(e).image=a),error:r(e).errors.image,defaultImage:m.product.image_url},null,8,["modelValue","error","defaultImage"]),t(S,{label:"Deskripsi Produk",placeholder:"Input Deskripsi Produk",id:"message",name:"message",modelValue:r(e).description,"onUpdate:modelValue":o[2]||(o[2]=a=>r(e).description=a),value:r(e).description,rows:"5",maxlength:"500",error:r(e).errors.description},null,8,["modelValue","value","error"]),t(_,{label:"Komisi (%)",type:"text",placeholder:"Input Komisi",id:"commission",name:"commission",modelValue:r(e).commission,"onUpdate:modelValue":o[3]||(o[3]=a=>r(e).commission=a),value:r(e).commission,icon:"isax icon-percentage-circle",error:r(e).errors.commission},null,8,["modelValue","value","error"]),t(h,{label:"Harga",type:"text",placeholder:"Input Harga",id:"price",name:"price",modelValue:r(e).price,"onUpdate:modelValue":o[4]||(o[4]=a=>r(e).price=a),value:r(e).price,error:r(e).errors.price},null,8,["modelValue","value","error"]),t(U,{type:"submit","bg-color":"blue","text-color":"white",class:"w-full flex-center mt-8",disabled:!r(e).name||!r(e).description||!r(e).commission||!r(e).price||r(e).processing,loading:r(e).processing},{default:d(()=>[N(" Update ")]),_:1},8,["disabled","loading"])],40,T)]),_:1}))}});export{F as default};
