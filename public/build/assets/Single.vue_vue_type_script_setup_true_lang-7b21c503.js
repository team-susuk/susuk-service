import{d as B,r as u,C as V,j as $,c as a,f as g,t as r,l as i,b as l,F as x,m as w,s as f,P as O,n as I,J as z,o}from"./app-14e8bb55.js";const A=["for"],D={key:0,class:"text-red"},E=["data-value"],L=["id"],S={class:"mt-[3px] flex-1 h-full min-w-[100px] cursor-pointer whitespace-nowrap overflow-hidden font-medium","x-on:click":"dropdownOpen=!dropdownOpen"},N=l("i",{class:"isax icon-arrow-down-1 float-right mt-[-37px] me-4 text-[#B4B6B8] text-[13px]"},null,-1),j={key:0,class:"mb-4"},F={class:"text-[11px] text-dark float-right"},M=l("span",{"x-text":"input.length"},null,-1),P=["placeholder"],R={class:"flex-1 overflow-auto"},T=["onClick"],W=l("br",null,null,-1),q=l("br",null,null,-1),H={key:1,class:"mt-[-7px] error-text mb-4 block text-[11px]"},J={key:2,class:"block mt-[-7px] text-[10px] mb-4 text-[#A3A3A3]"},K=B({__name:"Single",props:{placeholder:{},label:{},help:{},error:{},id:{},data:{},selected:{},popup:{type:Boolean}},emits:["update:modelValue"],setup(b,{emit:y}){const _=y,s=b,p=u(""),d=u([]),c=u("auto"),m=u(!0),v=u(s.data),k=e=>{d.value.map(t=>t.id).includes(e.id)||(d.value=[{id:e.id,name:e.name}],_("update:modelValue",e.id))},h=()=>{const e=document.getElementById(`wrapper_single_${s.id}`);s.popup&&(e?(c.value=`${e.getBoundingClientRect().width}px`,window.innerHeight-e.getBoundingClientRect().bottom<250?m.value=!1:m.value=!0):c.value="auto")};V(()=>{if(s.selected){const e=[],n=s.selected;s.data.forEach(t=>{n==t.id&&e.push({id:t.id,name:t.name})}),d.value=e}h(),window.addEventListener("resize",h)});const C=()=>{let e=p.value.toLowerCase();return v.value.filter(function(n){return n.name.toLowerCase().includes(e)})};return $(()=>s.data,(e,n)=>{v.value=n}),(e,n)=>(o(),a(x,null,[e.label?(o(),a("label",{key:0,for:e.id,class:"text-[12px] text-dark mb-1 block"},[g(r(e.label)+" ",1),e.$attrs.required?(o(),a("span",D,"*")):i("",!0)],8,A)):i("",!0),l("div",{class:f(["relative mb-2",{"has-error":e.error}]),"x-data":"{input: $el.getAttribute('data-value'),dropdownOpen : false}","data-value":e.$attrs.value||""},[l("div",{class:"border border-light-gray rounded-lg placeholder:text-neutral-gray px-4 text-sm min-h-[42px] flex gap-2 flex-wrap outline-none py-2 w-full mb-2 items-center",id:"wrapper_single_"+e.id},[(o(!0),a(x,null,w(d.value,t=>(o(),a("div",S,r(t.name),1))),256)),d.value.length?i("",!0):(o(),a("div",{key:0,class:f(["mt-[3px] flex-1 h-full min-w-[100px] cursor-pointer whitespace-nowrap overflow-hidden font-medium",{"text-[#ddd]":d.value.length}]),"x-on:click":"dropdownOpen=true",onClick:h},r(e.placeholder),3))],8,L),N,e.$attrs.maxlength?(o(),a("div",j,[l("p",F,[M,g("/"+r(e.$attrs.maxlength),1)])])):i("",!0),l("div",{class:f(["fixed w-full z-10",{"bottom-0":!m.value,fixed:e.popup,absolute:!e.popup}]),"x-transition:enter":"transition ease-out duration-50","x-transition:enter-start":"opacity-0 -translate-y-1","x-transition:enter-end":"opacity-100","x-show":"dropdownOpen","x-on:click.away":"dropdownOpen = false"},[l("div",{class:"bg-white border rounded-lg w-full max-h-60 p-2 flex flex-col",style:O({width:c.value})},[l("div",null,[I(l("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=t=>p.value=t),class:"bg-white rounded-lg placeholder:text-neutral-gray px-4 text-xs outline-none py-2 w-full mb-2 border-light-gray font-medium focus:ring-0 focus:border-light-gray",placeholder:"Cari "+e.label},null,8,P),[[z,p.value]])]),l("ul",R,[(o(!0),a(x,null,w(C(),t=>(o(),a("li",{key:t.id},[l("a",{href:"javascript:;",class:"flex gap-3 p-[5px] px-2 rounded-md hover:bg-neutral-light-gray text-sm text-dark transition-all","x-on:click":"dropdownOpen=false",onClick:U=>k(t)},r(t.name),9,T)]))),128))])],4),W,q],2),e.error?(o(),a("small",H,r(e.error),1)):i("",!0),e.help?(o(),a("small",J,r(e.help),1)):i("",!0)],10,E)],64))}});export{K as _};
