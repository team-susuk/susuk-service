import{d as K,r as k,H as F,c,f as g,t as b,l as u,b as l,s as E,w,n as L,$ as R,P as A,a as s,F as z,a0 as M,o as m,T as O,j as N,u as o,k as V,e as S,S as j,Z as H,i as Z,g as q,O as G,h as J}from"./app-8caaccd0.js";import{B as Q,L as X}from"./Outline-07ecc2a3.js";import{I as x}from"./InputNumber-693b9c43.js";import{I as B}from"./Index-425a527a.js";import{_ as Y}from"./DropZoneImage.vue_vue_type_script_setup_true_lang-1f10229e.js";import{_ as W}from"./Password.vue_vue_type_script_setup_true_lang-f899d147.js";import{T as ee}from"./Textarea-09150bfb.js";import{_ as C,w as oe,a as ae}from"./days-1d8820a8.js";import{_ as h}from"./TimePicker.vue_vue_type_script_setup_true_lang-ac11bca3.js";import{i as te}from"./File-a5e8fe42.js";import{_ as U}from"./Single.vue_vue_type_script_setup_true_lang-8557cab2.js";import"./flatpickr.min-e561b34c.js";const le=["for"],re={key:0,class:"text-red"},se={class:"relative mb-2"},ie=["onDragover","onDragenter","onDragleave","onDrop","for"],ne={class:"flex-center flex-col z-[2] relative w-full h-full"},de=["for"],me=l("span",{class:"font-semibold"},"Drag",-1),ue=l("span",{class:"font-semibold"},"klik",-1),pe={key:0,class:"mt-2 max-w-[250px]"},ce=l("p",{class:"text-[12px] text-dark"},"Selected File:",-1),_e={class:"text-[12px] text-dark font-semibold truncate"},ge=["id"],fe={key:0,class:"mb-4"},ke={class:"text-[11px] text-dark float-right"},ve=l("span",{"x-text":"input.length"},null,-1),be={key:1,class:"mt-[-7px] error-text mb-4 block text-[11px]"},we={key:2,class:"block mt-[-7px] text-[10px] mb-4"},ye=K({__name:"DropZoneFile",props:{id:{},label:{},name:{},error:{},help:{},modelValue:{}},emits:["update:modelValue"],setup(_,{emit:y}){const p=y,f=_,i=k(void 0),n=k(!1);let e=0;const $=r=>{r.preventDefault(),n.value=!0,r.dataTransfer.dropEffect="copy"},T=r=>{e++,e>0&&(n.value=!0)},D=()=>{e--,e<=0&&(n.value=!1)},I=r=>{if(e=0,n.value=!1,r.dataTransfer&&r.dataTransfer.files){const v=r.dataTransfer.files[0];v&&(i.value=v,p("update:modelValue",v))}},d=r=>{const P=r.target.files;P&&P.length>0&&(i.value=P[0],a())},a=()=>{var r;if(i.value){if(p("update:modelValue",i.value),(r=i.value)!=null&&r.size&&i.value.size>2*1024*1024){document.getElementById(f.id).value="",i.value=void 0,p("update:modelValue",null),M("File is too large. Please upload a file smaller than 2MB.","error");return}}else document.getElementById(f.id).value="",p("update:modelValue",null)},t=F(()=>i.value?`${i.value.name} (${(i.value.size/1024).toFixed(2)} KB)`:"No file selected");return(r,v)=>(m(),c(z,null,[r.label?(m(),c("label",{key:0,for:r.id,class:"text-[12px] text-dark mb-1 block"},[g(b(r.label)+" ",1),r.$attrs.required?(m(),c("span",re,"*")):u("",!0)],8,le)):u("",!0),l("div",se,[l("label",{class:E(["bg-white rounded-lg w-full mb-2 border border-light-gray h-[150px] flex-center cursor-pointer relative flex-col overflow-hidden",{"bg-gray-200":n.value}]),onDragover:w($,["prevent"]),onDragenter:w(T,["prevent"]),onDragleave:w(D,["prevent"]),onDrop:w(I,["prevent"]),for:r.id},[l("div",ne,[L(l("div",{class:"absolute inset-0 rounded-lg flex-center text-white text-3xl font-semibold",style:A({background:"rgba(0, 0, 0, 0.3)",opacity:n.value?1:0,transition:"opacity 0.3s"})}," Place here ",4),[[R,n.value]]),s(te,{class:"mb-2"}),l("label",{for:r.id,class:"text-neutral-dark-gray text-sm"},[me,g(" file atau "),ue,g(" untuk upload")],8,de),i.value?(m(),c("div",pe,[ce,l("p",_e,b(t.value),1)])):u("",!0),l("input",{id:r.id,ref:"input",class:"drop-zone-file",type:"file",onChange:d,hidden:""},null,40,ge)])],42,ie),r.$attrs.maxlength?(m(),c("div",fe,[l("p",ke,[ve,g("/"+b(r.$attrs.maxlength),1)])])):u("",!0),r.error?(m(),c("small",be,b(r.error),1)):u("",!0),r.help?(m(),c("small",we,b(r.help),1)):u("",!0)])],64))}}),Ve={class:"","x-data":"{popup: false}"},xe={class:"flex items-center justify-between"},he=l("h1",{class:"text-dark text-2xl font-bold text-center max-w-xs mx-auto mt-14"}," Daftarkan akun kamu sekarang âœ¨ ",-1),Ue=l("p",{class:"text-dark text-sm font-medium mt-3 text-center"}," Promosikan toko kamu kepada semua member guide ",-1),$e=["onSubmit"],Te={class:"grid grid-cols-2 gap-x-4 mb-2"},De={class:"grid grid-cols-2 gap-x-4"},Ie=l("label",{for:"start_commission_range",class:"text-[12px] text-dark mb-1 block"}," Range Komisi (%) ",-1),Pe={class:"grid grid-cols-2 gap-x-4"},Be={class:"grid grid-cols-2 gap-x-4"},Ne={class:"grid grid-cols-2 gap-x-4"},Se={class:"text-sm font-medium text-neutral-dark-gray text-center mt-6"},We=l("a",{"x-on:click":"popup=true",id:"open-popup"},null,-1),Ze=K({__name:"Register",props:["categories","regions"],setup(_){const y=_,p=k(!0),f=k(!0),i=k([]),n=k([]),e=O({name:"",image:null,description:"",category:"",province:"",city:"",subdistrict:"",address:"",pic_name:"",pic_phone:"",pic_phone_wa:"",start_commission_range:0,end_commission_range:0,weekdays:[],open_time_weekdays:"",close_time_weekdays:"",weekends:[],open_time_weekends:"",close_time_weekends:"",document:null,password:"",password_confirmation:""}),$=()=>{G.visit(route("merchant.login"))},T=()=>{e.processing||e.post(route("merchant.register.store"),{onSuccess:()=>{J("open-popup")},onError:d=>{}})};N(()=>e.province,(d,a)=>{D()});const D=()=>{p.value=!1,y.regions.filter(d=>{let a=e.city;e.city="",d.id==e.province&&(i.value=d.cities,i.value.map(t=>{t.id==a&&(e.city=a)}),setTimeout(()=>{p.value=!0},100))})};N(()=>e.city,(d,a)=>{I()});const I=()=>{f.value=!1,n.value=[],y.regions.filter(d=>{d.id==e.province&&i.value.map(a=>{let t=e.subdistrict;e.subdistrict="",a.id==e.city&&(n.value=a.subdistricts,n.value.map(r=>{r.id==t&&(e.subdistrict=t)})),setTimeout(()=>{f.value=!0},100)})})};return(d,a)=>(m(),c(z,null,[s(o(H),{title:"Register"}),l("section",Ve,[l("div",xe,[s(Q,{href:d.route("merchant.login"),"border-color":"silver","text-color":"graphite","bg-color":"transparent",icon:"isax icon-arrow-left-2 !text-xl",class:"!py-1 !px-2"},null,8,["href"]),s(X)]),he,Ue,l("form",{class:"mt-10 w-full flex flex-col",enctype:"multipart/form-data",onSubmit:w(T,["prevent"])},[s(B,{label:"Nama Toko",type:"text",placeholder:"Input Nama Toko",id:"name",name:"name",modelValue:o(e).name,"onUpdate:modelValue":a[0]||(a[0]=t=>o(e).name=t),error:o(e).errors.name},null,8,["modelValue","error"]),s(Y,{label:"Upload Foto Toko",id:"dropzone_image",name:"image",modelValue:o(e).image,"onUpdate:modelValue":a[1]||(a[1]=t=>o(e).image=t),error:o(e).errors.image},null,8,["modelValue","error"]),s(ee,{label:"Deskripsi Toko",placeholder:"Input Deskripsi Toko",id:"message",name:"message",modelValue:o(e).description,"onUpdate:modelValue":a[2]||(a[2]=t=>o(e).description=t),rows:"5",maxlength:"1000",error:o(e).errors.description},null,8,["modelValue","error"]),_.categories?(m(),V(U,{key:0,placeholder:"Pilih Kategori",label:"Kategori Merchant",data:_.categories,id:"category",modelValue:o(e).category,"onUpdate:modelValue":a[3]||(a[3]=t=>o(e).category=t),selected:o(e).category,error:o(e).errors.category},null,8,["data","modelValue","selected","error"])):u("",!0),_.regions?(m(),V(U,{key:1,placeholder:"Pilih Provinsi",label:"Provinsi",data:_.regions,id:"province",modelValue:o(e).province,"onUpdate:modelValue":a[4]||(a[4]=t=>o(e).province=t),selected:o(e).province,error:o(e).errors.province},null,8,["data","modelValue","selected","error"])):u("",!0),l("div",Te,[l("div",null,[p.value?(m(),V(U,{key:0,placeholder:"Pilih Kabupaten",label:"Kabupaten/kotamadya",data:i.value,id:"city",modelValue:o(e).city,"onUpdate:modelValue":a[5]||(a[5]=t=>o(e).city=t),selected:o(e).city,error:o(e).errors.city},null,8,["data","modelValue","selected","error"])):u("",!0)]),l("div",null,[f.value?(m(),V(U,{key:0,placeholder:"Pilih Kecamatan",label:"Kecamatan",data:n.value,id:"subdistrict",modelValue:o(e).subdistrict,"onUpdate:modelValue":a[6]||(a[6]=t=>o(e).subdistrict=t),selected:o(e).subdistrict,error:o(e).errors.subdistrict},null,8,["data","modelValue","selected","error"])):u("",!0)])]),s(B,{label:"Alamat Lengkap Toko",type:"text",placeholder:"Input Alamat Lengkap Toko",id:"address",name:"address",modelValue:o(e).address,"onUpdate:modelValue":a[7]||(a[7]=t=>o(e).address=t),error:o(e).errors.address},null,8,["modelValue","error"]),s(B,{label:"Nama PIC",type:"text",placeholder:"Input Nama PIC",id:"pic_name",name:"pic_name",modelValue:o(e).pic_name,"onUpdate:modelValue":a[8]||(a[8]=t=>o(e).pic_name=t),error:o(e).errors.pic_name},null,8,["modelValue","error"]),l("div",De,[l("div",null,[s(x,{label:"No Telepon Toko",type:"text",placeholder:"Input No Telepon Toko contoh: 6281....",id:"pic_phone",name:"pic_phone",modelValue:o(e).pic_phone,"onUpdate:modelValue":a[9]||(a[9]=t=>o(e).pic_phone=t),error:o(e).errors.pic_phone},null,8,["modelValue","error"])]),l("div",null,[s(x,{label:"No WA (Login)",type:"text",placeholder:"Input No WA contoh: 6281....",id:"pic_phone_wa",name:"pic_phone_wa",modelValue:o(e).pic_phone_wa,"onUpdate:modelValue":a[10]||(a[10]=t=>o(e).pic_phone_wa=t),error:o(e).errors.pic_phone_wa},null,8,["modelValue","error"])])]),l("section",null,[Ie,l("div",Pe,[l("div",null,[s(x,{label:"",type:"text",placeholder:"Input Range Komisi",id:"start_commission_range",name:"start_commission_range",modelValue:o(e).start_commission_range,"onUpdate:modelValue":a[11]||(a[11]=t=>o(e).start_commission_range=t),icon:"isax icon-percentage-circle",error:o(e).errors.start_commission_range},null,8,["modelValue","error"])]),s(x,{label:"",type:"text",placeholder:"Input Range Komisi",id:"start_commission_range",name:"start_commission_range",modelValue:o(e).end_commission_range,"onUpdate:modelValue":a[12]||(a[12]=t=>o(e).end_commission_range=t),icon:"isax icon-percentage-circle",error:o(e).errors.end_commission_range},null,8,["modelValue","error"])])]),s(C,{label:"Weekdays",placeholder:"Tambah Hari",options:o(oe),id:"weekdays",icon:"isax icon-add",modelValue:o(e).weekdays,"onUpdate:modelValue":a[13]||(a[13]=t=>o(e).weekdays=t),error:o(e).errors.weekdays},null,8,["options","modelValue","error"]),l("div",Be,[l("div",null,[s(h,{label:"Waktu Buka Weekdays",name:"open_time_weekdays",modelValue:o(e).open_time_weekdays,"onUpdate:modelValue":a[14]||(a[14]=t=>o(e).open_time_weekdays=t),error:o(e).errors.open_time_weekdays},null,8,["modelValue","error"])]),l("div",null,[s(h,{label:"Waktu Tutup Weekdays",name:"close_time_weekdays",modelValue:o(e).close_time_weekdays,"onUpdate:modelValue":a[15]||(a[15]=t=>o(e).close_time_weekdays=t),error:o(e).errors.close_time_weekdays},null,8,["modelValue","error"])])]),s(C,{label:"Weekends",placeholder:"Tambah Hari",options:o(ae),id:"weekends",icon:"isax icon-add",modelValue:o(e).weekends,"onUpdate:modelValue":a[16]||(a[16]=t=>o(e).weekends=t),error:o(e).errors.weekends},null,8,["options","modelValue","error"]),l("div",Ne,[l("div",null,[s(h,{label:"Waktu Buka Weekends",name:"open_time_weekends",modelValue:o(e).open_time_weekends,"onUpdate:modelValue":a[17]||(a[17]=t=>o(e).open_time_weekends=t),error:o(e).errors.open_time_weekdays},null,8,["modelValue","error"])]),l("div",null,[s(h,{label:"Waktu Tutup Weekends",name:"close_time_weekends",modelValue:o(e).close_time_weekends,"onUpdate:modelValue":a[18]||(a[18]=t=>o(e).close_time_weekends=t),error:o(e).errors.close_time_weekdays},null,8,["modelValue","error"])])]),s(ye,{label:"Upload Ijin Usaha (opsional)",id:"dropzone_document",name:"document",modelValue:o(e).document,"onUpdate:modelValue":a[19]||(a[19]=t=>o(e).document=t),error:o(e).errors.document},null,8,["modelValue","error"]),s(W,{label:"Password (minimal 6 digit)",placeholder:"Input Password",id:"password",name:"password",modelValue:o(e).password,"onUpdate:modelValue":a[20]||(a[20]=t=>o(e).password=t),error:o(e).errors.password},null,8,["modelValue","error"]),s(W,{label:"Konfirmasi Password",placeholder:"Input Ulang Password",id:"password_confirmation",name:"password_confirmation",modelValue:o(e).password_confirmation,"onUpdate:modelValue":a[21]||(a[21]=t=>o(e).password_confirmation=t),error:o(e).errors.password_confirmation},null,8,["modelValue","error"]),s(j,{type:"submit","bg-color":"blue","text-color":"white",class:"w-full flex-center mt-8",disabled:!o(e).name||!o(e).image||!o(e).description||!o(e).category||!o(e).province||!o(e).city||!o(e).subdistrict||!o(e).address||!o(e).pic_name||!o(e).pic_phone||!o(e).pic_phone_wa||!o(e).start_commission_range||!o(e).end_commission_range||!o(e).weekdays.length||!o(e).open_time_weekdays||!o(e).close_time_weekdays||!o(e).weekends.length||!o(e).open_time_weekends||!o(e).close_time_weekends||!o(e).password||!o(e).password_confirmation||o(e).processing,loading:o(e).processing},{default:S(()=>[g(" Registrasi ")]),_:1},8,["disabled","loading"]),l("p",Se,[g(" Sudah punya akun? "),s(o(Z),{href:d.route("merchant.login"),class:"text-blue font-semibold"},{default:S(()=>[g("Login")]),_:1},8,["href"])])],40,$e),We,s(q,{close:!0,title:"Registrasi Berhasil",onAction:$})])],64))}});export{Ze as default};
